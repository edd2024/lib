var LibBundle=function(t){"use strict";class e{constructor(t,e={}){this.container=t,this.stage=t.querySelector(".stage"),this.cards=Array.from(t.querySelectorAll(".card")),this.prevBtn=t.querySelector(".prev-btn"),this.nextBtn=t.querySelector(".next-btn"),this.indicatorsWrap=t.querySelector(".indicator"),this.counterEl=t.querySelector(".card-counter"),this.index=0,this.isAnimating=!1,this.config={maxVisibleStack:parseInt(t.dataset.maxVisibleStack)||3,swipeThreshold:50,xOffset:-2,zOffset:-6,opacityStep:.15,minOpacity:.45,...e},this.indicatorsWrap&&this.setupIndicators(),this.update(),this.bind()}setupIndicators(){this.indicatorsWrap.innerHTML="",this.indicators=this.cards.map((t,e)=>{const s=document.createElement("div");return s.className="dot"+(0===e?" active":""),s.addEventListener("click",()=>this.goTo(e)),this.indicatorsWrap.appendChild(s),s})}bind(){this.nextBtn&&this.nextBtn.addEventListener("click",()=>this.next()),this.prevBtn&&this.prevBtn.addEventListener("click",()=>this.prev());let t=0,e=0;this.container.addEventListener("touchstart",s=>{t=s.touches[0].clientX,e=s.touches[0].clientY},{passive:!0}),this.container.addEventListener("touchend",s=>{const n=s.changedTouches[0].clientX-t,i=s.changedTouches[0].clientY-e;this.handleSwipe(n,i)},{passive:!1}),this.container.setAttribute("tabindex","0"),this.container.addEventListener("keydown",t=>{"ArrowRight"!==t.key&&"ArrowUp"!==t.key||this.next(),"ArrowLeft"!==t.key&&"ArrowDown"!==t.key||this.prev()})}handleSwipe(t,e){const s=Math.abs(t)>Math.abs(e)&&Math.abs(t)>this.config.swipeThreshold,n=Math.abs(e)>Math.abs(t)&&Math.abs(e)>this.config.swipeThreshold;s?t<0?this.next():this.prev():n&&(e<0?this.next():this.prev())}rel(t){return(t+this.cards.length)%this.cards.length}update(){this.cards.forEach(t=>{t.classList.remove("leaving-up")});for(let t=0;t<=this.config.maxVisibleStack;t++){const e=this.rel(this.index+t),s=this.cards[e];if(!s)continue;const n=t*this.config.xOffset,i=t*this.config.zOffset,a=0===t?1:Math.max(this.config.minOpacity,1-t*this.config.opacityStep);0===t?(s.classList.add("active"),s.style.transform="translateZ(0) rotateY(0deg)",s.style.opacity="1",s.style.zIndex=String(this.config.maxVisibleStack+2),s.style.pointerEvents="auto"):(s.classList.remove("active"),s.style.transform=`translateX(${n}rem) translateZ(${i}rem) rotateY(12deg)`,s.style.opacity=String(a),s.style.zIndex=String(this.config.maxVisibleStack+2-t),s.style.pointerEvents="auto")}this.cards.forEach((t,e)=>{(e-this.index+this.cards.length)%this.cards.length>this.config.maxVisibleStack&&(t.style.transform="translateZ(0) rotateY(12deg)",t.style.opacity="0",t.style.zIndex="0",t.style.pointerEvents="none")}),this.counterEl&&(this.counterEl.textContent=`${this.index+1}/${this.cards.length}`),this.indicators&&this.indicators.forEach((t,e)=>t.classList.toggle("active",e===this.index))}animateLeaveUp(t,e){t.offsetWidth,t.style.zIndex=String(this.config.maxVisibleStack+3),t.style.pointerEvents="none",t.style.transform="translateY(-5rem) rotateY(12deg)",t.style.opacity="0";const s=n=>{t.removeEventListener("transitionend",s),e()};t.addEventListener("transitionend",s,{once:!0})}next(){if(this.isAnimating)return;this.isAnimating=!0;const t=this.cards[this.index];this.animateLeaveUp(t,()=>{this.index=this.rel(this.index+1),this.stage.classList.add("no-anim"),this.update(),this.stage.offsetWidth,this.stage.classList.remove("no-anim"),this.isAnimating=!1})}prev(){if(this.isAnimating)return;this.isAnimating=!0;const t=this.cards[this.index];this.animateLeaveUp(t,()=>{this.index=this.rel(this.index-1),this.stage.classList.add("no-anim"),this.update(),this.stage.offsetWidth,this.stage.classList.remove("no-anim"),this.isAnimating=!1})}goTo(t){if(t===this.index||this.isAnimating)return;this.isAnimating=!0;const e=this.cards[this.index];this.animateLeaveUp(e,()=>{this.index=this.rel(t),this.stage.classList.add("no-anim"),this.update(),this.stage.offsetWidth,this.stage.classList.remove("no-anim"),this.isAnimating=!1})}}return document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".card-stack-3d").forEach(t=>new e(t))}),document.addEventListener("DOMContentLoaded",()=>{const t={loopSpeed:600,breakpoints:[{max:766,items:1,orientation:"vertical",peek:24},{max:1022,items:2,orientation:"horizontal",peek:40},{max:1399,items:3,orientation:"horizontal",peek:40},{max:1/0,items:3,orientation:"horizontal",peek:40}]},e=document.querySelectorAll(".progress-nav"),s=document.querySelectorAll(".progress-count"),n=document.querySelectorAll(".carousel"),i=document.querySelectorAll(".indicator:not(.progress-indicator):not(.pill-indicator):not(.window-indicator)"),a=document.querySelectorAll(".progress-indicator"),o=document.querySelectorAll(".pill-indicator"),r=document.querySelectorAll(".window-indicator");e.forEach((e,c)=>{const l=e.querySelector(".progress-bar-wrapper"),d=l?.querySelector(".progress-bar"),h=d?.querySelector(".progress"),u=e.querySelector(".carousel-btn.prev"),p=e.querySelector(".carousel-btn.next"),m=s[c],f=m?.querySelector(".current"),g=m?.querySelector(".total"),y=n[c],x=i[c],v=a[c],L=o[c],E=r[c];if(!y)return;const S=y.classList.contains("progress-carousel");let w=null,b=t.loopSpeed,A="horizontal",k=3,q=0,C=[],M=[],$=!1,N=[],T=0,W=1,z=1,B=null,I=null,O=[],Y=!1;function R(){if(!S||!l||!d)return;const t=l.getBoundingClientRect();if(C=M.map(e=>{const s=e.getBoundingClientRect();return{x:s.left+s.width/2-t.left,y:s.top+s.height/2-t.top}}),!M.length)return;const e=C[0],s=C[C.length-1];if("horizontal"===A){const t=d.offsetHeight||8,n=e.y-t/2;d.style.top=`${n}px`,d.style.left=`${e.x}px`,d.style.width=`${Math.max(0,s.x-e.x)}px`,d.style.height=`${t}px`}else{const t=d.offsetWidth||8,n=e.x-t/2;d.style.left=`${n}px`,d.style.top=`${e.y}px`,d.style.height=`${Math.max(0,s.y-e.y)}px`,d.style.width=`${t}px`}}function V(){if(!S||!h)return;C.length||R();const t=C[0]||{x:0,y:0},e=C[W-1]||t;"horizontal"===A?(h.style.transition=`width ${b}ms ease-in-out`,h.style.width=1===W?"0px":`${Math.max(0,e.x-t.x)}px`,h.style.height="100%"):(h.style.transition=`height ${b}ms ease-in-out`,h.style.height=1===W?"0px":`${Math.max(0,e.y-t.y)}px`,h.style.width="100%"),f&&(f.textContent=W)}function X(){if(!E)return;const t=function(){const t=e.getAttribute("data-window-visible");if(t&&!Number.isNaN(parseInt(t,10)))return Math.max(1,parseInt(t,10));const s=e.getAttribute("data-window-visible");if(s&&s.trim().startsWith("["))try{const t=JSON.parse(s),e=window.innerWidth,n=t.find(t=>e<=t.max)||t[t.length-1];if(n&&n.dots)return Math.max(1,parseInt(n.dots,10))}catch(t){console.warn("Invalid data-window-visible JSON",t)}const n=[{max:766,dots:5},{max:1022,dots:7},{max:1399,dots:7},{max:1/0,dots:9}],i=window.innerWidth;return(n.find(t=>i<=t.max)||n[n.length-1]).dots}(),s=.9*(parseFloat(getComputedStyle(document.documentElement).fontSize)||16)*t+parseFloat(getComputedStyle(E).gap||0)*(t-1);E.style.maxWidth=s+"px"}function H(){S&&v&&v.querySelectorAll(".step").forEach((t,e)=>{t.classList.remove("active","completed"),e+1<W&&t.classList.add("completed"),e+1===W&&t.classList.add("active")}),function(){if(!x)return;x.querySelectorAll(".dot").forEach((t,e)=>{t.classList.remove("active"),e===W-1&&t.classList.add("active")})}(),function(){if(!L)return;L.querySelectorAll(".dot").forEach((t,e)=>{t.classList.remove("active"),e===W-1&&t.classList.add("active")})}(),function(){if(!E)return;const t=[...E.querySelectorAll(".dot")],e=W-1;t.forEach((t,s)=>{t.className="dot";const n=Math.abs(s-e);s===e?t.classList.add("active"):1===n?t.classList.add("near"):2===n?t.classList.add("far1"):3===n?t.classList.add("far2"):t.classList.add("far-away")});const s=E.offsetWidth,n=t[e];if(!n)return;let i=n.offsetLeft+n.offsetWidth/2-s/2;const a=E.scrollWidth-s;i<0&&(i=0),i>a&&(i=a),t.forEach(t=>{t.style.transform=`translateX(${-i}px)`,t.style.transition="all 0.3s ease-in-out"})}()}function U(t=!1){if(!N.length)return;const e=N[0].getBoundingClientRect().width,s=-z*e;w.style.transition=t?"none":`transform ${b}ms ease-in-out`,w.style.transform=`translateX(${s}px)`}function F(t){$||($=!0,W=Math.min(Math.max(t,1),T),z=W,H(),V(),U(!1),setTimeout(()=>{$=!1},b))}function D(){$||($=!0,z+=1,U(!1),W=W===T?1:W+1,H(),V(),setTimeout(()=>{z===T+1&&(z=1,U(!0)),$=!1},b+20))}function J(){$||($=!0,z-=1,U(!1),W=1===W?T:W-1,H(),V(),setTimeout(()=>{0===z&&(z=T,U(!0)),$=!1},b+20))}function Z(){!function(){const s=e.getAttribute("data-breakpoints");let n=t.breakpoints;if(s)try{n=JSON.parse(s)}catch(t){console.warn("Invalid data-breakpoints",t)}const i=window.innerWidth,a=n.find(t=>i<=t.max)||n[n.length-1];A=a.orientation,k=a.items,q=a.peek||0}(),function(){if(w=y.querySelector(".progress-track"),!w){w=document.createElement("div"),w.className="progress-track";const t=S?".progress-section":".slide";Array.from(y.querySelectorAll(t)).forEach(t=>w.appendChild(t)),y.appendChild(w)}w.style.display="flex",w.style.flexWrap="nowrap",w.style.willChange="transform",w.style.width="100%"}(),w.querySelectorAll(".progress-section.generated, .progress-section.clone, .slide.generated, .slide.clone").forEach(t=>t.remove()),function(){const t=S?".progress-section":".slide";O=Array.from(w.querySelectorAll(t)).filter(t=>!t.classList.contains("clone")&&!t.classList.contains("generated")),Y=O.some(t=>t.querySelector(".item"))}(),function(){if(N=[],Y){const t=[];O.forEach(e=>{e.querySelectorAll(".item").forEach(e=>t.push(e.cloneNode(!0))),e.style.display="none"});const e=y.getBoundingClientRect().width;for(let s=0;s<t.length;s+=k){const n=document.createElement("div");n.className=S?"progress-section generated":"slide generated",t.slice(s,s+k).forEach(t=>n.appendChild(t));const i=s+k>=t.length?e:e-q;n.style.flex=`0 0 ${i}px`,w.appendChild(n),N.push(n)}}else O.forEach(t=>t.style.display=""),N=[...O];T=N.length,g&&(g.textContent=T)}(),N.length&&(B=N[0].cloneNode(!0),B.classList.add("clone"),B.style.flex=`0 0 ${y.getBoundingClientRect().width-q}px`,I=N[N.length-1].cloneNode(!0),I.classList.add("clone"),I.style.flex=`0 0 ${y.getBoundingClientRect().width-q}px`,w.insertBefore(I,w.firstChild),w.appendChild(B)),S&&v&&(v.innerHTML="",M=[],N.forEach((t,e)=>{const s=document.createElement("button");s.className="step";const n=document.createElement("div");n.className="dot",n.textContent=e+1;const i=document.createElement("span");i.className="label",i.textContent=t.dataset.label||`Step ${e+1}`,s.appendChild(n),s.appendChild(i),v.appendChild(s),M.push(n),s.addEventListener("click",()=>F(e+1))})),x&&(x.innerHTML="",N.forEach((t,e)=>{const s=document.createElement("div");s.className="dot",x.appendChild(s),s.addEventListener("click",()=>F(e+1))})),L&&(L.innerHTML="",N.forEach((t,e)=>{const s=document.createElement("div");s.className="dot",L.appendChild(s),s.addEventListener("click",()=>F(e+1))})),E&&(E.innerHTML="",N.forEach((t,e)=>{const s=document.createElement("div");s.className="dot",s.dataset.index=e,E.appendChild(s),s.addEventListener("click",()=>F(e+1))})),W=1,z=1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{R(),H(),V(),U(!0),X()})})}!function(){const t=parseInt(e?.dataset?.speed??"",10);Number.isNaN(t)||(b=t)}(),Z(),window.addEventListener("resize",Z),window.addEventListener("orientationchange",Z),u?.addEventListener("click",J),p?.addEventListener("click",D);let P=0,j=0,G=0,K=0;document.addEventListener("touchstart",t=>{P=t.changedTouches[0].screenX,j=t.changedTouches[0].screenY},{passive:!0}),document.addEventListener("touchend",t=>{G=t.changedTouches[0].screenX,K=t.changedTouches[0].screenY;const e=G-P,s=K-j;Math.abs(e)>Math.abs(s)?(e<-2&&D(),e>2&&J()):(s<-2&&D(),s>2&&J())},{passive:!0}),window.setLoopSpeed=t=>{b=+t||b,Z()},window.setProgress=F})}),t.initLib=function(){},t}({});
